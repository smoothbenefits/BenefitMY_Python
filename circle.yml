## configuration file for Circle continuous integration

general:
  branches:
    only:
      - master
      - sandbox
      - staging
      - demo
      - beta
      - prod

test:
  pre:
    - python manage.py collectstatic --noinput
  override:
    - python manage.py test

deployment:
  sandbox:
    branch: sandbox
    commands:
      - sh ./deployment.sh benefitmy-python-sandbox HEROKU_POSTGRESQL_BLACK
  staging:
    branch: staging
    commands:
      - sh ./deployment.sh benefitmy-python-staging HEROKU_POSTGRESQL_NAVY
  demo:
    branch: demo
    commands:
      - sh ./deployment.sh benefitmy-python-demo HEROKU_POSTGRESQL_BROWN
  beta:
    branch: beta
    commands:
      - sh ./deployment.sh benefitmy-python-beta HEROKU_POSTGRESQL_PINK


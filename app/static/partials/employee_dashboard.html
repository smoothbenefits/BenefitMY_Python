<div class="breadcrumb">
    <span>Employee Dashboard</span>
</div>

<div class="content-header">
    <h1>My Benefits</h1>
    <span class="general-info">You have total <b>{{benefitCount}}</b> benefits</span>
    <div class="cta"><a href="#/employee/benefits/{{employee_id}}" class="btn green" >Modify Benefits</a></div>
</div><!-- / .content-header -->

<div class="content-body">
    <div class="table-responsive table-holder table" ng-if="benefits.length>0">
        <div class="table-sub-title">
            Selected Benefits
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th><span>Benefit Name</span></th>
                    <th width="250"><span>Type</span></th>
                    <th width="180"><span>Premium<br />Per pay period</span></th>
                    <th width="300"><span>Enrolled member</span></th>
                </tr>
            </thead>
            <tbody>

                <tr ng-repeat="benefitElement in benefits">
                    <td style="vertical-align: top;">
                        <div>
                            {{benefitElement.benefit.benefit_plan.name}}
                        </div>
                        <div class="benefit-pcp-display" ng-if="benefitElement.pcp">
                            PCP#: {{benefitElement.pcp}}
                        </div>
                    </td>
                    <td width="250">{{benefitElement.benefit.benefit_option_type}}</td>
                    <td width="180">${{benefitElement.benefit.employee_cost_per_period}}</td>
                    <td width="300">
                        <div class="inner-td-div" ng-repeat="enrolled in benefitElement.enrolleds">
                            {{enrolled.person.relationship.capitalize()}} : {{enrolled.person.first_name}} {{enrolled.person.last_name}} <span ng-show="enrolled.pcp && benefitElement.benefit.benefit_plan.benefit_type.name === 'Medical'">(PCP#: {{enrolled.pcp}})</span>
                        </div>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>
    <div class="table-responsive table-holder table" ng-if="waivedBenefits.length>0">
        <div class="table-sub-title">Waived Benefits</div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th><span>Benefit Type Name</span></th>
                    <th><span>Reason</span></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="waivedBenefit in waivedBenefits">
                    <td >{{waivedBenefit.benefit_type.name}}</td>
                    <td >{{waivedBenefit.reason}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="table-responsive table-holder" ng-show="supplementalLifeInsuranceEnabled">
        <div class="table-sub-title">Supplemental Life Insurance</div>
        <table class="table table-striped" ng-if="isLifeInsuranceWaived(familyInsurancePlan)">
            <thead>
                <tr>
                    <th width="180"><span>Supplemental Life Insurance</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="180">No active supplemental life insurance plan</td>
                </tr>
            </tbody>    
        </table>
        <table class="table table-striped" ng-if="!isLifeInsuranceWaived(familyInsurancePlan)">
            <thead>
                <tr>
                    <th width="180"><span>Plan Name</span></th>
                    <th width="250"><span>Family Member</span></th>
                    <th width="120"><span>Elected Coverage Amount (USD)</span></th>
                    <th width="180"><span>Beneficiary</span></th>
                    <th width="120"><span>Last Update</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="180">{{familyInsurancePlan.mainPlan.company_life_insurance.life_insurance_plan.name}}</td>
                    <td colspan="2" style="padding: 0;">
                        <table class="table">
                            <tr ng-repeat="memberPlan in familyInsurancePlan.memberPlans">
                                <td width="250">{{memberPlan.full_name}} ({{memberPlan.relationship}})</td>
                                <td width="120">${{memberPlan.insurance_amount}}</td>
                            </tr>
                        </table>
                    </td>
                    <td width="180">
                        <span class="inline" ng-repeat="beneficiary in familyInsurancePlan.mainPlan.life_insurance_beneficiary"> {{$index + 1}}. {{beneficiary.first_name}} {{beneficiary.last_name}}; </br></span>
                    </td>
                    <td width="120">{{familyInsurancePlan.mainPlan.last_update_date}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="table-responsive table-holder table">
        <div class="table-sub-title">Basic Life Insurance</div>
        <table class="table table-striped" ng-show="!basicLifeInsurancePlan.enrolled">
            <thead>
                <tr>
                    <th width="180"><span>Basic Life Insurance</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="180">No active basic life insurance plan</td>
                </tr>
            </tbody>    
        </table>
        <table class="table table-striped" ng-show="basicLifeInsurancePlan.enrolled">
            <thead>
                <tr>
                    <th><span>Plan Name</span></th>
                    <th><span>Elected Coverage Amount (USD)</span></th>
                    <th><span>Beneficiary</span></th>
                    <th><span>Last Update</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{basicLifeInsurancePlan.company_life_insurance.life_insurance_plan.name}}</td>
                    <td>{{basicLifeInsurancePlan.company_life_insurance.insurance_amount}}</td>
                    <td>
                        <span class="inline" ng-repeat="beneficiary in basicLifeInsurancePlan.life_insurance_beneficiary"> {{$index + 1}}. {{beneficiary.first_name}} {{beneficiary.last_name}}; </br></span>
                    </td>
                    <td>{{basicLifeInsurancePlan.last_update_date}}</td>
                </tr>
            </tbody>
        </table>

    </div>
    <div class="table-responsive table-holder table">
        <div class="table-sub-title">Flexible Spending Account</div>
        <table class="table-striped table">
            <thead>
                <tr>
                    <th><span>Account Type</span></th>
                    <th><span>Elected Annual Amount (USD)</span></th>
                    <th><span>Last Update</span></th>
                    <th><span>Last Update Reason</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Primary Account</td>
                    <td>${{fsaElection.primary_amount_per_year}}</td>
                    <td rowspan="2" style="vertical-align:middle;">{{fsaElection.last_update_date_time}}</td>
                    <td rowspan="2" style="vertical-align:middle;">{{fsaElection.update_reason}}</td>
                </tr>
                <tr>
                    <td>Dependent Care Account</td>
                    <td>${{fsaElection.dependent_amount_per_year}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div><!-- / .content-body -->

<div class="content-header">
    <h1>My Payroll</h1>
    <span class="general-info">View/edit your payroll information here</span>
    <div class="cta"><a ng-click="goToState('employee_payroll')" class="btn green">View/Modify Payroll</a></div>
</div><!-- / .content-header -->

<div class="content-body">
    <div class="table-responsive table-holder table">
        <div class="table-sub-title">W4 Form</div>
        <table class="table table-striped" ng-show="w4Info">
            <thead>
                <tr>
                    <th><span>Calculated Points</span></th>
                    <th><span>User Defined Points</span></th>
                    <th><span>Extra Withholding Amount</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{w4Info.calculated_points}}</td>
                    <td>{{w4Info.user_defined_points}}</td>
                    <td>$ {{w4Info.extra_amount}}</td>
                </tr>
            </tbody>
        </table>
        <table class="table table-striped" ng-hide="w4Info">
            <thead>
                <tr>
                    <th width="180"><span>W4 Inforamtion</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="180">We do not have your W4 form information yet.</td>
                </tr>
            </tbody>    
        </table>
    </div>
    <div class="table-responsive table-holder table">
        <div class="table-sub-title">Direct Deposit</div>
        <table class="table table-striped" ng-show="directDepositAccounts.length != 0">
            <thead>
                <tr>
                    <th><span>Account Issuer</span></th>
                    <th><span>Account Type</span></th>
                    <th><span>Amount</span></th>
                    <th><span>Percentage</span></th>
                    <th><span>Remainder of Net Pay</span></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="account in directDepositAccounts">
                    <td>{{account.bank_name}}</td>
                    <td>{{account.account_type}}</td>
                    <td>$ {{account.amount}}</td>
                    <td>{{account.percentage}} %</td>
                    <td>{{account.remainder_of_all}}</td>
                </tr>
            </tbody>
        </table>
        <table class="table table-striped" ng-show="directDepositAccounts.length === 0">
            <thead>
                <tr>
                    <th width="180"><span>Direct Deposit Accounts</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="180">We do not have your direct deposit account information yet.</td>
                </tr>
            </tbody>    
        </table>
    </div>
</div><!-- / .content-body -->

<div class="content-header">
    <h1>My Documents</h1>
    <span class="general-info">You have total <b>{{documentCount}}</b> documents</span>
</div><!-- / .content-header -->

<div class="content-body">
    <div class="table-responsive table-holder table">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th><span>Document Name</span></th>
                    <th><span>Action</span></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="document in documents">
                    <td>{{document.name}}</td>
                    <td>
                        <a class="btn inline" ng-click="ViewDocument(document.id)"> View</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div><!-- / .content-body -->

<div class="content-header">
    <h1>My Profile</h1>
    <span class="general-info">View/edit your information here</span>
    <div class="cta"><a ng-click="goToState('employee_profile')" class="btn green" >Modify Profile</a></div>
</div><!-- / .content-header -->

<div class="content-body">
    <div class="table-responsive table-holder table">
        <div class="table-sub-title">Employment Authorization (I-9)</div>
        <table class="table table-striped" ng-show="i9Info">
            <thead>
                <tr>
                    <th><span>Worker Type</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{i9Info.worker_type}}</td>
                </tr>
            </tbody> 
        </table>
        <table class="table table-striped" ng-hide="i9Info">
            <thead>
                <tr>
                    <th><span>Employment Authorization (I-9)</span></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td width="180">We do not have your employment authorization information yet.</td>
                </tr>
            </tbody>  
        </table>
    </div>
</div><!-- / .content-body -->
